<?php
?>
<h1><?= $this-> translate('frontdoor_pagetitle') ?></h1><hr />
<h2><?= $this-> translate('frontdoor_hashtitle') ?></h2>

<?$value = $this->author;?>
<p><b><a href="<?= $this->value = $this->url(array(
                                'module' => 'search',
                                'controller' => 'search',
                                'action' => 'metadatasearch',
                                'author' => $value,
                            ), null, true);
                        ?>">
                        <?= $this->author?>:</a>&nbsp;<?= $this->title;?></b></p>
<p><?= $this-> translate('frontdoor_filenumber')?>:&nbsp;<?= $this->fileNumber?></p><hr />

<?if ($this->first_hash !== NULL)
  {
      for ($i = 0; $i < $this->fileNumber; $i++)

         if (array_key_exists ($i, $this->hashLabel) === true)
         {
            $value = $this->hashLabel[$i];?>

            <p><b><?=$this->translate('File');?>: </b><?= $this->value = $value?></p><?
            $hashes = $this->document->getFile($i)->getHashValue();
            $hashNumber = count($hashes);
            for ($j = 0; $j < $hashNumber; $j++)
            {
               if (array_key_exists ('hashType_' .$i. '_' .$j, $this->hashValueType) === true)
               {
                  $value = $this->hashValueType['hashType_' .$i. '_' .$j];
                  $this->signtype = $signtype = substr($value, 0,3);
                  if ($signtype == 'gpg')
                  {
                     $value = $this->signtype;?>
                     <p><b><?= $this->translate('SignatureType');?>: </b> <?= $this->value = $value?></p><?
                     $value = $this->hashValueType['hashValue_' .$i. '_' .$j];?>

                     <p><b><?= $this->translate('SignatureValue');?>: </b><?= $this->value = $value?></p><?
                  }
                  if ($value == 'md5')
                  {?>
                    <p><b><?= $this->translate('HashType');?>: </b> <?= $this->value = $value?></p><?
                    $value = $this->hashValueType['hashValue_' .$i. '_' .$j];?>
                    <p><b><?= $this->translate ('HashValue');?>: </b><?= $this->value = $value?></p><?
                  }
                  if ($value == 'sha1')
                  {?>
                    <p><b><?= $his->translate('HashType');?>: </b> <?= $this->value = $value?></p><?
                    $value = $this->hashValueType['hashValue_' .$i. '_' .$j];?>
                    <p><b><?= $this->translate('HashValue');?>: <b> <?= $this->value = $value?></p><?
                  }
               }
               else
               {?>
                  <p><b><?= $this->translate ('frontdoor_no_hash')?></b></p>
             <?}

            }?> <hr /><?
          }
     }

   else
   {?>
      <p><?$this-> translate('frontdoor_no_hash');?></p><?
   }?>
   <p><a href="<?= $this->value =
                        $this->url(array(
                            'module' => 'frontdoor',
                            'controller' => 'index',
                            'docId' => $this->docId,
                        ), null, true);?>"><?= $this->translate('frontdoor_back')?></a>
