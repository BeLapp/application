<?php
/**
 * This file is part of OPUS. The software OPUS has been originally developed
 * at the University of Stuttgart with funding from the German Research Net,
 * the Federal Department of Higher Education and Research and the Ministry
 * of Science, Research and the Arts of the State of Baden-Wuerttemberg.
 *
 * OPUS 4 is a complete rewrite of the original OPUS software and was developed
 * by the Stuttgart University Library, the Library Service Center
 * Baden-Wuerttemberg, the Cooperative Library Network Berlin-Brandenburg,
 * the Saarland University and State Library, the Saxon State Library -
 * Dresden State and University Library, the Bielefeld University Library and
 * the University Library of Hamburg University of Technology with funding from
 * the German Research Foundation and the European Regional Development Fund.
 *
 * LICENCE
 * OPUS is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the Licence, or any later version.
 * OPUS is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details. You should have received a copy of the GNU General Public License
 * along with OPUS; if not, write to the Free Software Foundation, Inc., 51
 * Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
 *
 * @category    Application
 * @package     Module_Frontdoor
 * @author      Wolfgang Filter (wolfgang.filter@ub.uni-stuttgart.de)
 * @copyright   Copyright (c) 2008, OPUS 4 development team
 * @license     http://www.gnu.org/licenses/gpl.html General Public License
 * @version     $Id$
 *
 *
 *
 * This view gets a filtered one-dimensional associative array ($mydoc_data) from
 * the Frontdoor-Controller and displays it. The order of elements is fixed here.
 * Abstracts and keywords were combined with language information and displayed directly.
 *
 *
 */
?>
<h1><?= $this-> translate('frontdoor_pagetitle') ?></h1><hr /><br />
<? if (is_array($this->mydoc_data) === true)
   {
      if (array_key_exists ('IdentifierUrn_0_Value', $this->mydoc_data) === true)
      {
         for ($i = 0; $i < $this->urnNumber; $i++)
         {
            if (array_key_exists ('IdentifierUrn_' .$i. '_Value', $this->mydoc_data) === true)
            {
               $value = $this->mydoc_data['IdentifierUrn_' .$i. '_Value'];?>
               <?= $this-> translate('frontdoor_entry'); ?><br />
               <b><?= $this-> translate ('IdentifierUrn');?>: </b>
               <a href="<?= $this->value = 'http://nbn-resolving.de/urn/resolver.pl?' .$value;?>">
               <?= $this->value = $value;?></a><br /><br /><hr /><?
             }
          }
       }
       elseif (array_key_exists ('IdentifierUrn_Value', $this->mydoc_data) === true)
       {
           $value = $this->mydoc_data['IdentifierUrn_Value'];?>
           <?= $this-> translate('frontdoor_entry'); ?><br />
           <b><?= $this-> translate ('IdentifierUrn');?>: </b>
           <a href="<?= $this->value = 'http://nbn-resolving.de/urn/resolver.pl?' .$value;?>">
           <?= $this->value = $value;?></a><br /><br /><hr /><?
       }


       if (isset($this->collectionPathes) === true && is_array($this->collectionPathes) === true) {
           //display collection path (i.e. DDC)
           foreach ($this->collectionPathes as $collPath)
           {
              echo $collPath . "<br />\n";
           }
       }

      //displaying titles and authors
      if (array_key_exists ('TitleMain_0_Value', $this->mydoc_data) === true)
      {
          for ($i = 0; $i < $this->titleNumber; $i++)
          {
             if (array_key_exists ('TitleMain_'.$i.'_Value', $this->mydoc_data) === true)
             {
                $value = $this->mydoc_data['TitleMain_'.$i.'_Value'];?>
                <p><h2><?= $this->value = $value;?></h2></p><?
             }
          }
      }
      //case TitleMain is not multiple
      elseif (array_key_exists ('TitleMain_Value', $this->mydoc_data) === true)
      {
          $value = $this->mydoc_data['TitleMain_Value'];?>
          <p><h2><?= $this->value = $value;?></h2></p><?
      }

      if (array_key_exists ('PersonAuthor_0_Name', $this->mydoc_data) === true)
      {
          for ($i = 0; $i < $this->authorNumber; $i++)
          {
             if (array_key_exists ('PersonAuthor_'.$i.'_Name', $this->mydoc_data) === true)
             {
                $value = $this->mydoc_data['PersonAuthor_'.$i.'_Name'];?>
                <p><b><a href="<?= $this->value = $this->url(array(
                   'module' => 'search',
                   'controller' => 'search',
                   'action' => 'metadatasearch',
                   'author' => $value,
                   ), null, true);?>">
                   <?= $this->value = $value;?></a></b></p><?
              }
          }
       }
       //case PersonAuthor is not multiple
       elseif (array_key_exists ('PersonAuthor_Name', $this->mydoc_data) == true)
       {
          $value = $this->mydoc_data['PersonAuthor_Name'];?>
          <p><b><a href="<?= $this->value = $this->url(array(
             'module' => 'search',
             'controller' => 'search',
             'action' => 'metadatasearch',
             'author' => $value,
              ), null, true);?>">
          <?= $this->value = $value;?></a></b></p><?
       }

       // getting logos depending on filetype of document
       if ($this->fileNumber !== 0)
       {?>
          <p><b><?= $this-> translate('File(s)')?>:</b><?
          for ($i = 0; $i < $this->fileNumber; $i++)
          {
             if (array_key_exists ('File_'.$i. '_PathName', $this->mydoc_data) === true)
             {
                $path_name = $this->mydoc_data['File_' .$i. '_PathName'];
                $file_type = substr(strchr($path_name, '.'), 1);
                if (array_key_exists ('File_'.$i. '_FileSize', $this->mydoc_data) === true)
                {
                   $file_size = $this->mydoc_data['File_' .$i. '_FileSize']/1000;
                   if (file_exists ('./layouts/' .$this->theme. '/img/filetypelogo_' .$file_type. '.png'))
                   {?>
                      <a href="<?= $this->value = '/documents/'.$this->docId.'/'.$this->path_name = $path_name;?>">
                      <img src = "<?= $this->value = $this->layoutPath . '/img/filetypelogo_' .$file_type. '.png';?>"
                      title = 'Download' border = '0'<?= $this->value = '-' .$path_name?>'>
                      (<?= $this->file_type = $file_type. ', ' .$this->file_size = $file_size. ' kB'?>)</a>&nbsp;&nbsp;&nbsp;<?
                   }
                   else
                   {?>
                      <a href="<?= $this->value = '/documents/'.$this->docId.'/'.$this->path_name = $path_name;?>">
                      <img src = "<?= $this->value = $this->layoutPath . '/img/filetypelogo_default.png';?>"
                      title = 'Download' border = '0'<?= $this->value = '-' .$path_name?>'>
                      (<?= $this->file_type = $file_type. ', ' .$this->file_size = $file_size?>)</a>&nbsp;&nbsp;&nbsp;<?
                   }
                }
                else
                {
                   if (file_exists ('./layouts/' .$this->theme. '/img/filetypelogo_' .$file_type. '.png'))
                   {?>
                      <a href="<?= $this->value = '/documents/'.$this->docId.'/'.$this->path_name = $path_name;?>">
                      <img src = "<?= $this->value = $this->layoutPath . '/img/filetypelogo_' .$file_type. '.png';?>"
                      title = 'Download' border = '0'<?= $this->value = '-' .$path_name?>'>
                      (<?= $this->file_type = $file_type?>)</a>&nbsp;&nbsp;&nbsp;<?
                   }
                   else
                   {?>
                      <a href="<?= $this->value = '/documents/'.$this->docId.'/'.$this->path_name = $path_name;?>">
                      <img src = "<?= $this->value = $this->layoutPath . '/img/filetypelogo_default.png';?>"
                      title = 'Download' border = '0'<?= $this->value = '-' .$path_name?>'>
                      (<?= $this->file_type = $file_type?>)</a>&nbsp;&nbsp;&nbsp;<?
                   }
                }
             }
             else
             {
             if (file_exists ('./layouts/' .$this->theme. '/img/filetypelogo_' .$file_type. '.png'))
             {?>
                <a href="<?= $this->value = '/documents/'.$this->docId.'/'.$this->path_name = $path_name;?>">
                <img src = "<?= $this->value = $this->layoutPath . '/img/filetypelogo_' .$file_type. '.png';?>"
                title = 'Download' border = '0'<?= $this->value = '-' .$path_name?>'>
                (<?= $this->file_type = $file_type?>)</a>&nbsp;&nbsp;&nbsp;<?
             }
             else
             {?>
                <a href="<?= $this->value = '/documents/'.$this->docId.'/'.$this->path_name = $path_name;?>">
                <img src = "<?= $this->value = $this->layoutPath . '/img/filetypelogo_default.png';?>"
                title = 'Download' border = '0'<?= $this->value = '-' .$path_name?>'>
                (<?= $this->file_type = $file_type?>)</a>&nbsp;&nbsp;&nbsp;<?
             }
          }
       }
    }

          //offering intenal and external services
          ?></p>
          <p><br><a href="<?= $this->value =
          $this->url(array(
             'module' => 'frontdoor',
             'controller' => 'hash',
             'docId' => $this->docId,
          ), null, true);?>">
          <img src = "<?= $this->value = $this->layoutPath . '/img/unversehrt.jpg';?>" border = '0' title = 'Unversehrtheit'></a>
          <a href="<?= $this->value = '';?>">

          <img src = "<?= $this->value = $this->layoutPath . '/img/hand.jpg';?>" border = '0' title = 'Empfehlung'></a>
          <a href="<?= $this->value =
          $this->url(array(
             'module' => 'statistic',
             'controller' => 'index',
             'action' => 'index',
             'docId' => $this->docId,
          ), null, true);?>">
          <img src = "<?= $this->value =
          $this->url(array(
             'module' => 'statistic',
             'controller' => 'graph',
             'action' => 'thumb',
             'id' => $this->docId,)); ?>" border = '0' title = 'Statistik'></a>

          <a href="<?= $this->value =
          $this->url(array(
             'module' => 'socialBookmarking',
             'controller' => 'connotea',
             'docId' => $this->docId,
          ), null, true);?>">
          <img src = "<?= $this->value =
          $this->layoutPath .'/img/connotea_icon.jpg';?>" border = '0' title = 'Bookmark bei Connotea'></a>

          <a href="<?= $this->value =
          $this->url(array(
             'module' => 'socialBookmarking',
             'controller' => 'delicious',
             'docId' => $this->docId,
          ), null, true);?>">
          <img src = "<?= $this->value =
          $this->layoutPath . '/img/delicious.jpg';?>" border = '0' title = 'Bookmark bei del.icio.us'></a><?

          if (array_key_exists ('TitleMain_0_Value', $this->mydoc_data) === true)
          {?>
             <a href="<?= $this->value =
             'http://scholar.google.de/scholar?hl=de&q=' .$this->mydoc_data['TitleMain_0_Value'];?>">
             <img src = "<?= $this->value =
             $this->layoutPath . '/img/google_scholar.jpg';?>" border = '0' title = 'Dokument in Google Scholar suchen'></a><?
          }?>

          <a href="<?= $this->value = '';?>">
          <img src = "<?= $this->value =
          $this->layoutPath . '/img/bibtex.jpg';?>" border = '0' title = 'BibTex-Export'></a>
          <a href="<?= $this->value = '';?>">
          <img src = "<?= $this->value = $this->layoutPath . '/img/ris.jpg';?>" border = '0' title = 'RIS-Export'></a>
          </p><br />

          <?//displaying other metadata
          if (array_key_exists('Type', $this->mydoc_data))
            {
               $value = $this->mydoc_data['Type'];?>
               <p><b><?= $this-> translate('Type')?>: </b>
               <?= $this->value = $value;?></p><?
            }

            if (array_key_exists ('Language_0', $this->mydoc_data) === true)
            {
               for ($i = 0; $i < $this->languageNumber; $i++)
               {
                  if (array_key_exists('Language_' .$i, $this->mydoc_data) === true)
                  {
                     $this->value = $value = $this->mydoc_data['Language_' .$i];?>
                     <p><b><?= $this-> translate('Language')?>: </b>
                     <?= $this->translate($value);?></p><?
                  }
               }
            }
            elseif (array_key_exists ('Language', $this->mydoc_data) === true)
            {
               $this->value = $value = $this->mydoc_data['Language'];?>
               <p><b><?= $this-> translate('Language')?>: </b>
               <?= $this->translate($value);?></p><?
            }

            if (array_key_exists ('TitleParent_0_Value', $this->mydoc_data) === true)
            {
               for ($i = 0; $i < $this->titleparentNumber; $i++)
               {
                  if (array_key_exists ('TitleParent_'.$i.'_Value', $this->mydoc_data) === true)
                  {
                     $value = $this->mydoc_data['TitleParent_'.$i.'_Value'];?>
                     <p><b><?= $this-> translate('TitleParent')?>: </b>
                     <?= $this->value = $value;?></p><?
                  }
               }
            }
            elseif (array_key_exists ('TitleParent_Value', $this->mydoc_data) === true)
            {
               $value = $this->mydoc_data['TitleParent_Value'];?>
               <p><h2><?= $this->value = $value;?></h2></p><?
            }

            if (array_key_exists ('SubjectSwd_0_Value', $this->mydoc_data) === true)
            {
                for ($i = 0; $i < $this->swdNumber; $i++)
                {
                   if (array_key_exists ('SubjectSwd_'.$i.'_Value', $this->mydoc_data) === true)
                   {
                      if (array_key_exists ('SubjectSwd_'.$i.'_Language', $this->mydoc_data) === true)
                      {
                         $this->value = $value = $this->mydoc_data['SubjectSwd_'.$i.'_Value'];
                         $this->lang = $lang = $this->mydoc_data['SubjectSwd_'.$i.'_Language'];
                      }?>
                      <p><b><?= $this-> translate('SubjectSwdValue') .' ('. $this->translate($lang). ')';?>: </b>
                      <?= $this->value = $value;?></p><?
                   }
                }
             }
             elseif (array_key_exists ('SubjectSwd_Value', $this->mydoc_data) === true)
             {
                if (array_key_exists ('SubjectSwd_Language', $this->mydoc_data) === true)
                {
                   $this->value = $value = $this->mydoc_data['SubjectSwd_Value'];
                   $this->lang = $lang = $this->mydoc_data['SubjectSwd_Language'];
                }?>
                <p><b><?= $this-> translate('SubjectSwdValue') .' ('. $this->translate($lang). ')';?>: </b>
                <?= $this->value = $value;?></p><?
             }

             if (array_key_exists ('SubjectUncontrolled_0_Value', $this->mydoc_data) === true)
             {
                for ($i = 0; $i < $this->uncontrolledNumber; $i++)
                {
                   if (array_key_exists ('SubjectUncontrolled_'.$i.'_Value', $this->mydoc_data) === true)
                   {
                      if (array_key_exists ('SubjectUncontrolled_'.$i.'_Language', $this->mydoc_data) === true)
                      {
                         $this->value = $value = $this->mydoc_data['SubjectUncontrolled_'.$i.'_Value'];
                         $this->lang = $lang = $this->mydoc_data['SubjectUncontrolled_'.$i.'_Language'];
                      }?>
                      <p><b><?= $this-> translate('SubjectUncontrolledValue') .' ('. $this->translate($lang). ')';?>: </b>
                      <?= $this->value = $value;?></p><?
                   }
                 }
              }
              elseif (array_key_exists ('SubjectUncontrolled_Value', $this->mydoc_data) === true)
              {
                 if (array_key_exists ('SubjectUncontrolled_Language', $this->mydoc_data) === true)
                 {
                    $this->value = $value = $this->mydoc_data['SubjectUncontrolled_Value'];
                    $this->lang = $lang = $this->mydoc_data['SubjectUncontrolled_Language'];
                 }?>
                  <p><b><?= $this-> translate('SubjectUncontrolledValue') .' ('. $this->translate($lang). ')';?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('SubectPsyndex_0_Value', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->psyndexNumber; $i++)
                  {
                     if (array_key_exists ('Psyindex_'.$i.'_Value', $this->mydoc_data) === true)
                     {
                        if (array_key_exists ('SubjectPsyndex_'.$i.'_Language', $this->mydoc_data) === true)
                        {
                           $this->value = $value = $this->mydoc_data['SubjectPsyndex_'.$i.'_Value'];
                           $this->lang = $lang = $this->mydoc_data['SubjectPsyndex_'.$i.'_Language'];
                        }?>
                          <p><b><?= $this-> translate('SubjectPsyndexValue') .' ('. $this->translate($lang). ')';?>: </b>
                          <?= $this->value = $value;?></p><?
                     }
                  }
               }
               elseif (array_key_exists ('SubjectPsyndex_Value', $this->mydoc_data) === true)
               {
                  if(array_key_exists ('SubjectPsyndex_Language', $this->mydoc_data) == true)
                  {
                     $this->value = $value = $this->mydoc_data['SubjectPsyndex_'.$i.'_Value'];
                     $this->lang = $lang = $this->mydoc_data['SubjectPsyndex_'.$i.'_Language'];
                  }?>
                  <p><b><?= $this-> translate('SubjectPsyndexValue') .' ('. $this->translate($lang). ')';?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('PublishedYear', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['PublishedYear'];?>
                  <p><b><?= $this-> translate('PublishedYear')?>: </b>
                  <?= $this->value = $value;?></p><?
               }
               if (array_key_exists ('PublishedDate_year', $this->mydoc_data) &&
               (array_key_exists ('PublishedDate_month', $this->mydoc_data)) &&
               (array_key_exists ('PublishedDate_day', $this->mydoc_data)))
               {
                  $year = $this->mydoc_data['PublishedDate_year'];
                  $month = $this->mydoc_data['PublishedDate_month'];
                  $day = $this->mydoc_data['PublishedDate_day'];?>
                  <p><b><?= $this-> translate('PublishedDate')?>: </b>
                  <?= $this->year = $year. '-' .$month. '-' .$day?></p><?
               }

               if (array_key_exists ('IdentifierIsbn_0_Value', $this->mydoc_data) === true)
               {
                  for ($i=0; $i < $this->isbnNumber; $i++)
                  {
                     if (array_key_exists ('IdentifierIsbn_' .$i. '_Value', $this->mydoc_data) === true)
                     {
                        $value = $this->mydoc_data['IdentifierIsbn_' .$i. '_Value'];?>
                        <p><b><?= $this-> translate('IdentifierIsbn')?>: </b>
                        <?= $this->value = $value;?></p><?
                     }
                  }
               }
               elseif (array_key_exists ('IdentifierIsbn_Value', $this->mydoc_data) === true)
               {
                 $this->value = $value = $this->mydoc_data['IdentifierIsbn_Value'];?>
                 <p><b><?= $this-> translate('IdentifierIsbn')?>: </b>
                 <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('PageNumber', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['PageNumber'];?>
                  <p><b><?= $this-> translate('PageNumber')?>: </b>
                  <?= $this->value = $value;?></p><?
               }
               if (array_key_exists ('CreatingCorporation', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['CreatingCorporation'];?>
                  <p><b><?= $this-> translate('CreatingCorporation')?>: </b>
                  <?= $this->value = $value;?></p><?
               }
               if (array_key_exists ('ContributingCorporation', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['ContributingCorporation'];?>
                  <p><b><?= $this-> translate('ContributingCorporation')?>: </b>
                  <?= $this->value = $value;?></p><?
               }
               if (array_key_exists ('NonInstituteAffiliation', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['NonInstituteAffiliation'];?>
                  <p><b><?= $this-> translate('NonInstituteAffiliation')?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('PersonContributor_0_Name', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->contributorNumber; $i++)
                  {
                     if (array_key_exists ('PersonContributor_'.$i.'_Name', $this->mydoc_data) === true)
                     {
                        $value = $this->mydoc_data['PersonContributor_'.$i.'_Name'];?>
                        <p><b><?= $this-> translate('PersonContributor')?>: </b>
                        <?= $this->value = $value;?></p><?
                     }
                  }
               }
               elseif (array_key_exists ('PersonContributorName', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['PersonContributorName'];?>
                  <p><b><?= $this-> translate('PersonContributor')?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('PersonReferee_0_Name', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->refereeNumber; $i++)
                  {
                    if (array_key_exists ('PersonReferee_'.$i.'_Name', $this->mydoc_data) === true)
                    {
                       $value = $this->mydoc_data['PersonReferee_'.$i.'_Name'];?>
                       <p><b><?= $this-> translate('PersonReferee')?>: </b>
                       <?= $this->value = $value;?></p><?
                    }
                  }
               }
               elseif (array_key_exists ('PersonReferee_Name', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['PersonRefereeName'];?>
                  <p><b><?= $this-> translate('PersonReferee')?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('PersonEditor_0_Name', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->editorNumber; $i++)
                  {
                    if (array_key_exists ('PersonEditor_'.$i.'_Name', $this->mydoc_data) === true)
                    {
                        $value = $this->mydoc_data['PersonEditor_'.$i.'_Name'];?>
                        <p><b><?= $this-> translate('PersonEditor')?>: </b>
                        <?= $this->value = $value;?></p><?
                    }
                  }
               }
               elseif (array_key_exists ('PersonEditor_Name', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['PersonEditor_Name'];?>
                  <p><b><?= $this-> translate('PersonEditor')?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('PersonTranslator_0_Name', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->translatorNumber; $i++)
                  {
                    if (array_key_exists ('PersonTranslator_'.$i.'_Name', $this->mydoc_data) === true)
                    {
                        $value = $this->mydoc_data['PersonTranslator_'.$i.'_Name'];?>
                        <p><b><?= $this-> translate('PersonTranslator')?>: </b>
                        <?= $this->value = $value;?></p><?
                    }
                  }
               }
               elseif (array_key_exists ('PersonTranslator_Name', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['PersonTranslator_Name'];?>
                  <p><b><?= $this-> translate('PersonTranslator')?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('PersonAdvisor_0_Name', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->advisorNumber; $i++)
                  {
                    if (array_key_exists ('PersonAdvisor_'.$i.'_Name', $this->mydoc_data) === true)
                    {
                        $value = $this->mydoc_data['PersonAdvisor_'.$i.'_Name'];?>
                        <p><b><?= $this-> translate('PersonAdvisor')?>: </b>
                        <?= $this->value = $value;?></p><?
                    }
                  }
               }
               elseif (array_key_exists ('PersonAdvisor_Name', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['PersonAdvisor_Name'];?>
                  <p><b><?= $this-> translate('PersonAdvisor')?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('PersonOther_0_Name', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->otherPersonNumber; $i++)
                  {
                    if (array_key_exists ('PersonOther_'.$i.'_Name', $this->mydoc_data) === true)
                    {
                        $value = $this->mydoc_data['PersonOther_'.$i.'_Name'];?>
                        <p><b><?= $this-> translate('PersonOther')?>: </b>
                        <?= $this->value = $value;?></p><?
                    }
                  }
               }
               elseif (array_key_exists ('PersonOther_Name', $this->mydoc_data) === true)
               {
                  $value = $this->mydoc_data['PersonOther_Name'];?>
                  <p><b><?= $this-> translate('PersonOther')?>: </b>
                  <?= $this->value = $value;?></p><?
               }

               if (array_key_exists ('TitleAbstract_0_Value', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->abstractNumber; $i++)
                  {
                     if (array_key_exists ('TitleAbstract_'.$i.'_Value', $this->mydoc_data) === true)
                     {
                        if (array_key_exists ('TitleAbstract_'.$i.'_Language', $this->mydoc_data) === true)
                        {
                           $this->value = $value = $this->mydoc_data['TitleAbstract_'.$i.'_Value'];
                           $this->lang = $lang = $this->mydoc_data['TitleAbstract_'.$i.'_Language'];
                        }?>
                        <p><b><?= $this-> translate('TitleAbstractValue') .' ('. $this->translate($lang). ')';?>: </b>
                        <?= $this->value = $value;?></p><?
                     }
                  }
               }
               elseif (array_key_exists ('TitleAbstract_Value', $this->mydoc_data) === true)
               {
                  if (array_key_exists ('TitleAbstract_Language', $this->mydoc_data) === true)
                  {
                     $this->value = $value = $this->mydoc_data['TitleAbstract_Value'];
                     $this->lang = $lang = $this->mydoc_data['TitleAbstract_Language'];
                  }?>
                  <p><b><?= $this-> translate('TitleAbstractValue') .' ('. $this->translate($lang). ')';?>: </b>
                  <?= $this->value = $value;?></p><?
              }

               if (array_key_exists ('Licence_0_NameLong', $this->mydoc_data) === true)
               {
                  for ($i = 0; $i < $this->licenceNumber; $i++)
                  {
                     if (array_key_exists ('Licence_' .$i. '_DescMarkup', $this->mydoc_data) === true)
                     {
                        $value = $this->mydoc_data['Licence_' .$i. '_DescMarkup'];?>
                        <p><b><?= $this-> translate('Licence_NameLong')?>: </b>
                        <?= $this->value = $value;?></a></p><?
                      }
                      elseif (array_key_exists('Licence_' .$i. '_NameLong', $this->mydoc_data) === true)
                      {
                           $value = $this->mydoc_data['Licence_' .$i. '_NameLong'];?>
                           <p><b><?= $this-> translate('Licence_NameLong')?>: </b>
                           <?= $this->value = $value;?></a></p><?
                      }
                   }
                }
                elseif (array_key_exists ('Licence_NameLong', $this->mydoc_data) === true)
                {
                   if (array_key_exists ('Licence_DescMarkup', $this->mydoc_data) === true)
                   {
                      $value = $this->mydoc_data['Licence_DescMarkup'];?>
                      <p><b><?= $this-> translate('Licence_NameLong')?>: </b>
                      <?= $this->value = $value;?></a></p><?
                   }
                   else
                   {
                      $value = $this->mydoc_data['Licence_NameLong'];?>
                      <p><b><?= $this-> translate('Licence_NameLong')?>: </b>
                      <?= $this->value = $value;?></a></p><?
                   }
                }?>

                <p><b><?= $this-> translate('POD')?>: </b>
                <img src = "<?= $this->value = $this->layoutPath . '/img/proprint_logo.png';?>" border = '0' title = 'Print-on Demand'></a>
                <a href="<?= $this->value = '';?>">Print-on-Demand</a></p><?

   }


